<h1>Добавить новый пост</h1>
<form [formGroup]="addPostForm" (submit)="submit()">
    <table>
        <tr>
            <td>
                <span>ID: </span>
            </td>
            <td><input type="text" formControlName="id"></td>
        </tr>
        <tr>
            <td>
                <span>Название: </span>
            </td>
            <td><input type="text" formControlName="title"></td>
            <td><span>(необязательно)</span></td>
        </tr>
        <tr>
            <td>
                <span>Описание: </span>
            </td>
            <td><input type="text" formControlName="description"></td>
            <td><span>(необязательно)</span></td>
        </tr>
        <tr>
            <td><span>Картинка: </span></td>
            <td><input type="file" (change)="onFileChange($event)"></td>
        </tr>
        <tr>
            <td>
                <span>Теги: </span>
            </td>
            <td><input type="text" formControlName="tags"></td>
            <td><span>(отделять через запятую)</span></td>
        </tr>
    </table>
    <button type="submit" [disabled]="!addPostForm.valid">Отправить пост</button>
</form>

<ng-container *ngIf="isUploading">
    <p class="info">Идёт загрузка изображений... Не покидайте эту страницу во время загрузки!</p>
    <p>Полное изображение: 
        <span *ngIf="fullImageProgress < 1">{{ fullImageProgress | percent }}</span>
        <span *ngIf="fullImageProgress === 1">Готово</span>
    </p>
    <p>Миниатюрное изображение: 
        <span *ngIf="thumbnailImageProgress < 1">{{ thumbnailImageProgress | percent }}</span>
        <span *ngIf="thumbnailImageProgress === 1">Готово</span>
    </p>
</ng-container>
<p class="info" *ngIf="hasPosted">Пост успешно отправлен.</p>
<p class="error" *ngIf="error.length > 0">{{ error }}</p>